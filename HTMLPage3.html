<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe Redirect</title>
</head>
<body>
    <h1>Safe Redirection Example</h1>
    <button onclick="safeRedirect('https://example.com')">Go to Example.com</button>
    <button onclick="safeRedirect('https://phishing-site.com')">Go to Suspicious Site</button>

    <script>
        function safeRedirect(url) {
            // Define trusted domains
            const trustedDomains = ["example.com", "trusted-site.com"];

            // Create an anchor element to extract the hostname
            const tempLink = document.createElement("a");
            tempLink.href = url;
            const destinationHost = tempLink.hostname;

            // Check if the destination is in the trusted domains list
            if (trustedDomains.includes(destinationHost)) {
                console.log("Redirecting to:", url);
                window.location.href = url;
            } else {
                console.warn("Blocked redirection to an untrusted site:", url);
                alert("Redirection blocked: Untrusted site!");
            }
        }
    </script>
</body>
</html>
